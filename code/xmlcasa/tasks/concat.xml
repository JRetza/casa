<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" ?>
<casaxml xmlns="http://casa.nrao.edu/schema/psetTypes.html"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd
file:///opt/casa/code/xmlcasa/xml/casa.xsd">

<task type="function" name="concat">
<shortdescription>Concatenate visibility data sets.</shortdescription>

<input>
	<param type="stringArray" name="vis" mustexist="true">
		<description>Name of input visibility files to be concatenated</description>
		<value></value>
	</param>

	<param type="string" name="concatvis">
		<description>Name of output visibility file</description>
		<value></value>
	</param>

	<param type="any" name="freqtol" >
		<description>Frequency shift tolerance for considering data as the same spwid</description>
		<any type="variant"/>
		<value type="string"></value>
	</param>

	<param type="any" name="dirtol" >

		<description>Direction shift tolerance for considering data as the same field</description>
		<any type="variant"/>
		<value type="string"></value>
	</param>

	<param type="bool" name="timesort" >

		<description>If true, sort the main table of the resulting MS by TIME in ascending order</description>
		<value>False</value>
	</param>

</input>
<example>

	The data sets given in the vis argument as a list are concatenated with the
	checking of the frequency and position.

	The output data name set in concatvis.  If the
        output data set name already exists (e.g., it is the same as the first
        input data set), then the input data sets will be appended to the
        concatvis data set.

	Keyword arguments:
	vis -- Name of input visibility files to be combined
		default: none; example: vis=['src2.ms','ngc5921.ms']
	concatvis -- Name of visibility file that will contain the concatenated data'
		note: if this points to some existing file on disk then that 
	              ms is where the input data is added to  otherwise a new 
		      is created to contain the concatenated data.  Be careful here! 
		default: none; example: concatvis='src2.ms'
		         example: concatvis='outvis.ms'

                example: concat(vis=['src2.ms','ngc5921.ms'], concatvis='src2.ms')
                   will concatenate 'ngc5921.ms' into 'src2.ms', and the original src2.ms 
		   is lost
		example: concat(vis=['src2.ms','ngc5921.ms'], concatvis='out.ms') 
                   will concatenate 'ngc5921.ms' and 'src2.ms' into a file named 
		   'out.ms'; the original 'ngc5921.ms' and 'src2.ms' are untouched

                example: concat(vis=['v1.ms','v2.ms'], concatvis = 'vall.ms')
                   then
                         concat(vis=['v3.ms','v4.ms'], concatvis = 'vall.ms')
                     vall.ms will contains v1.ms+v2.ms+v3.ms+v4.ms
 
		run flagmanager to save flags in the new vis in concatvis

	freqtol -- Frequency shift tolerance for considering data as the same spwid
		default: ''  do not combine unless frequencies are equal
		example: freqtol='10MHz' will not combine spwid unless they are
		within 10 MHz
	dirtol -- Direction shift tolerance for considering data as the same field
		default: '' means always combine
		example: dirtol='1.arcsec' will not combine data for a field unless
		their phase center is less than 1 arcsec.
	timesort -- If true, the output MS main table will be sorted in time.
	        default: false
		example: timesort=true

</example> 

</task>
</casaxml>
